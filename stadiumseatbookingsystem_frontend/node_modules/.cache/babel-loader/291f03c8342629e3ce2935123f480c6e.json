{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\himan\\\\OneDrive\\\\Desktop\\\\front end\\\\onlinemoviebookingsystem\\\\src\\\\components\\\\Customer\\\\Seat.jsx\";\nimport React, { Component } from 'react';\nimport BookingService from '../../services/BookingService';\nimport CustomerService from '../../services/CustomerService'; // import './Booking.css';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Booking extends Component {\n  constructor(props) {\n    super(props);\n\n    this.insertBooking = b => {\n      b.preventDefault();\n      let booking = {\n        bookingDate: this.state.bookingdate,\n        transactionMode: this.state.transactionmode,\n        customer: this.state.custarr\n      };\n      console.log(JSON.stringify(booking));\n      BookingService.addBooking(booking, this.state.custid, this.state.showid).then(response => {\n        this.setState({\n          bookingid: response.data.transactionId\n        });\n        console.log('booking id is', this.state.bookingid); // console.log(this.state.bookingid);\n\n        console.log('Booking Inserted Successfully', response.data);\n        this.props.history.push(`/Customer/Seat/${this.state.bookingid}`);\n      });\n    };\n\n    this.onChangeValue = event => {\n      this.setState({\n        transactionmode: event.target.value\n      });\n    };\n\n    this.changeBookingDateHandler = event => {\n      this.setState({\n        bookingdate: event.target.value\n      });\n    };\n\n    this.state = {\n      custid: this.props.match.params.cid,\n      showid: this.props.match.params.shid,\n      custarr: [],\n      // customerId:'',\n      // customerName:'',\n      bookingid: '',\n      transactionmode: '',\n      bookingdate: ''\n    };\n    this.changeBookingDateHandler = this.changeBookingDateHandler.bind(this);\n    this.onChangeValue = this.onChangeValue.bind(this);\n  }\n\n  componentDidMount() {\n    console.log(\"in Booking DidMount\");\n    console.log(sessionStorage.getItem(\"name\"));\n    console.log(sessionStorage.getItem(\"password\"));\n    console.log(sessionStorage.getItem(\"role\")); // var data = sessionStorage.getItem(\"name\");\n    // console.log(\"Name: \" + data);\n\n    CustomerService.getCustomerById(this.state.custid).then(response => {\n      let custobj = response.data;\n      this.setState({\n        custarr: custobj\n      });\n      console.log(this.state.custarr);\n      this.setState({\n        customerId: custobj.customerId\n      });\n      this.setState({\n        customerName: custobj.customerName\n      });\n      this.setState({\n        address: custobj.address\n      });\n      this.setState({\n        mobileNumber: custobj.mobileNumber\n      });\n      this.setState({\n        email: custobj.email\n      });\n      this.setState({\n        password: custobj.password\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"ticket\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"custom-container\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"input-data\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  class: \"form-control\",\n                  formControlName: \"noOfSeats\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"underline\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"\",\n                  children: \"No of Seats\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            class: \"form-select\",\n            multiple: true,\n            formControlName: \"seats\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Choose Seats\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              class: \"btn btn-primary\",\n              children: \"Add Booking\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 3\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Booking;","map":{"version":3,"sources":["C:/Users/himan/OneDrive/Desktop/front end/onlinemoviebookingsystem/src/components/Customer/Seat.jsx"],"names":["React","Component","BookingService","CustomerService","Booking","constructor","props","insertBooking","b","preventDefault","booking","bookingDate","state","bookingdate","transactionMode","transactionmode","customer","custarr","console","log","JSON","stringify","addBooking","custid","showid","then","response","setState","bookingid","data","transactionId","history","push","onChangeValue","event","target","value","changeBookingDateHandler","match","params","cid","shid","bind","componentDidMount","sessionStorage","getItem","getCustomerById","custobj","customerId","customerName","address","mobileNumber","email","password","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport BookingService from '../../services/BookingService';\r\nimport CustomerService from '../../services/CustomerService';\r\n// import './Booking.css';\r\n\r\n\r\nclass Booking extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            custid: this.props.match.params.cid,\r\n            showid: this.props.match.params.shid,\r\n            custarr: [],\r\n            // customerId:'',\r\n            // customerName:'',\r\n            bookingid:'',\r\n            transactionmode: '',\r\n            bookingdate: ''\r\n            \r\n\r\n        }\r\n        this.changeBookingDateHandler = this.changeBookingDateHandler.bind(this);\r\n        this.onChangeValue = this.onChangeValue.bind(this);\r\n\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        console.log(\"in Booking DidMount\");\r\n    \r\n    \r\n    \r\n        console.log(sessionStorage.getItem(\"name\"));\r\n        console.log(sessionStorage.getItem(\"password\"));\r\n        console.log(sessionStorage.getItem(\"role\"));\r\n    \r\n        // var data = sessionStorage.getItem(\"name\");\r\n        // console.log(\"Name: \" + data);\r\n    \r\n    \r\n        CustomerService. getCustomerById(this.state.custid).then((response) => {\r\n           let custobj=response.data; \r\n          this.setState({ custarr: custobj })\r\n          console.log(this.state.custarr)\r\n          \r\n            this.setState({ customerId: custobj.customerId }); \r\n            this.setState({ customerName: custobj.customerName });\r\n            this.setState({ address: custobj.address });\r\n            this.setState({ mobileNumber: custobj.mobileNumber });\r\n            this.setState({ email: custobj.email });\r\n            this.setState({ password: custobj.password });\r\n    \r\n        })\r\n      \r\n    }\r\n\r\n\r\n    insertBooking = (b) => {\r\n        b.preventDefault();\r\n        let booking = {\r\n            bookingDate: this.state.bookingdate,\r\n            transactionMode: this.state.transactionmode,\r\n            customer: this.state.custarr\r\n        }\r\n        \r\n        console.log((JSON.stringify(booking)));\r\n        BookingService.addBooking(booking, this.state.custid, this.state.showid)\r\n            .then(response => {\r\n                this.setState({ bookingid: response.data.transactionId })\r\n                console.log('booking id is',this.state.bookingid);\r\n                // console.log(this.state.bookingid);\r\n                console.log('Booking Inserted Successfully', response.data);\r\n                this.props.history.push(`/Customer/Seat/${this.state.bookingid}`)\r\n            });\r\n    }\r\n\r\n\r\n    onChangeValue = (event) => {\r\n        this.setState({ transactionmode: event.target.value });\r\n\r\n    }\r\n\r\n    changeBookingDateHandler = (event) => { this.setState({ bookingdate: event.target.value }); }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <section id=\"ticket\">\r\n  <div class=\"custom-container\">\r\n \r\n    <form >\r\n      <div class=\"form-row\">\r\n        <div class=\"form-group\">\r\n          <div class=\"input-data\">\r\n            <input\r\n              type=\"number\"\r\n              class=\"form-control\"\r\n              formControlName=\"noOfSeats\"\r\n              required\r\n            />\r\n            <div class=\"underline\"></div>\r\n            <label for=\"\">No of Seats</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <select class=\"form-select\" multiple formControlName=\"seats\">\r\n        <option value=\"\">Choose Seats</option>\r\n        <option >\r\n         \r\n        </option>\r\n      </select>\r\n\r\n      <div>\r\n        <button type=\"submit\" class=\"btn btn-primary\">Add Booking</button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</section>\r\n\r\n\r\n\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default Booking;"]},"metadata":{},"sourceType":"module"}