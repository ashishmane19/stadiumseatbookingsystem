{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\himan\\\\OneDrive\\\\Desktop\\\\front end\\\\onlinemoviebookingsystem\\\\src\\\\components\\\\Customer\\\\Booking.jsx\";\nimport React, { Component } from 'react';\nimport BookingService from '../../services/BookingService';\nimport CustomerService from '../../services/CustomerService'; // import './Booking.css';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Booking extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      custid: this.props.match.params.cid,\n      showid: this.props.match.params.shid,\n      custarr: [],\n      transactionmode: '',\n      bookingdate: ''\n    };\n    this.changeBookingDateHandler = this.changeBookingDateHandler.bind(this);\n    this.onChangeValue = this.onChangeValue.bind(this);\n  }\n\n  componentDidMount() {\n    console.log(\"in Booking DidMount\");\n    console.log(sessionStorage.getItem(\"name\"));\n    console.log(sessionStorage.getItem(\"password\"));\n    console.log(sessionStorage.getItem(\"role\")); // var data = sessionStorage.getItem(\"name\");\n    // console.log(\"Name: \" + data);\n\n    CustomerService.getCustomerById(this.state.custid).then(response => {\n      let custobj = response.data;\n      this.setState({\n        custarr: custobj\n      });\n      console.log(this.state.custarr);\n      this.state.custarr.map(custobj => {\n        this.setState({\n          customerId: custobj.customerId\n        });\n        this.setState({\n          customerName: custobj.customerName\n        });\n        this.setState({\n          address: custobj.address\n        });\n        this.setState({\n          mobileNumber: custobj.mobileNumber\n        });\n        this.setState({\n          email: custobj.email\n        });\n        this.setState({\n          password: custobj.password\n        });\n      });\n    });\n\n    insertBooking = b => {\n      b.preventDefault();\n      let booking = {\n        bookingDate: this.state.bookingdate,\n        transactionMode: this.state.transactionmode,\n        customer: this.state.custarr\n      };\n      console.log(JSON.stringify(booking));\n      BookingService.addBooking(booking, this.state.custid, this.state.showid).then(response => {\n        console.log('Booking Insert Successfully', response.data);\n        this.props.history.push('/seat');\n      });\n    };\n\n    onChangeValue = event => {\n      this.setState({\n        transactionmode: event.target.value\n      });\n    };\n\n    changeBookingDateHandler = event => {\n      this.setState({\n        bookingdate: event.target.value\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"booking\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"custom-container\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.insertBooking,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"\",\n            children: \"Transaction Mode\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"radio\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              id: \"online\",\n              name: \"mode\",\n              value: \"online\",\n              formControlName: \"mode\",\n              class: \"radio\",\n              checked: this.state.transactionmode === \"online\",\n              onChange: this.onChangeValue\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              class: \"radioName\",\n              for: \"male\",\n              children: \"Online\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 83\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              id: \"offline\",\n              name: \"mode\",\n              value: \"offline\",\n              formControlName: \"mode\",\n              class: \"radio\",\n              checked: this.state.transactionmode === \"offline\",\n              onChange: this.onChangeValue\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              class: \"radioName\",\n              for: \"female\",\n              children: \"Offline\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 86\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"date\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  class: \"form-control\",\n                  formControlName: \"bookingDate\",\n                  onChange: this.changeBookingDateHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              class: \"btn btn-danger\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              class: \"btn btn-primary\",\n              children: [\"Proceed \", /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"icofont-long-arrow-right\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nexport default Booking;","map":{"version":3,"sources":["C:/Users/himan/OneDrive/Desktop/front end/onlinemoviebookingsystem/src/components/Customer/Booking.jsx"],"names":["React","Component","BookingService","CustomerService","Booking","constructor","props","state","custid","match","params","cid","showid","shid","custarr","transactionmode","bookingdate","changeBookingDateHandler","bind","onChangeValue","componentDidMount","console","log","sessionStorage","getItem","getCustomerById","then","response","custobj","data","setState","map","customerId","customerName","address","mobileNumber","email","password","insertBooking","b","preventDefault","booking","bookingDate","transactionMode","customer","JSON","stringify","addBooking","history","push","event","target","value","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport BookingService from '../../services/BookingService';\r\nimport CustomerService from '../../services/CustomerService';\r\n// import './Booking.css';\r\n\r\n\r\nclass Booking extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            custid: this.props.match.params.cid,\r\n            showid: this.props.match.params.shid,\r\n            custarr: [],\r\n            transactionmode: '',\r\n            bookingdate: ''\r\n\r\n\r\n        }\r\n        this.changeBookingDateHandler = this.changeBookingDateHandler.bind(this);\r\n        this.onChangeValue = this.onChangeValue.bind(this);\r\n\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        console.log(\"in Booking DidMount\");\r\n\r\n\r\n\r\n        console.log(sessionStorage.getItem(\"name\"));\r\n        console.log(sessionStorage.getItem(\"password\"));\r\n        console.log(sessionStorage.getItem(\"role\"));\r\n\r\n        // var data = sessionStorage.getItem(\"name\");\r\n        // console.log(\"Name: \" + data);\r\n\r\n\r\n        CustomerService.getCustomerById(this.state.custid).then((response) => {\r\n            let custobj = response.data;\r\n            this.setState({ custarr: custobj })\r\n            console.log(this.state.custarr)\r\n            this.state.custarr.map((custobj) => {\r\n                this.setState({ customerId: custobj.customerId });\r\n                this.setState({ customerName: custobj.customerName });\r\n                this.setState({ address: custobj.address });\r\n                this.setState({ mobileNumber: custobj.mobileNumber });\r\n                this.setState({ email: custobj.email });\r\n                this.setState({ password: custobj.password });\r\n\r\n            })\r\n        })\r\n\r\n\r\n        insertBooking = (b) => {\r\n            b.preventDefault();\r\n            let booking = {\r\n                bookingDate: this.state.bookingdate,\r\n                transactionMode: this.state.transactionmode,\r\n                customer: this.state.custarr\r\n            }\r\n            console.log((JSON.stringify(booking)));\r\n            BookingService.addBooking(booking, this.state.custid, this.state.showid)\r\n                .then(response => {\r\n                    console.log('Booking Insert Successfully', response.data);\r\n                    this.props.history.push('/seat');\r\n                });\r\n        }\r\n\r\n\r\n        onChangeValue = (event) => {\r\n            this.setState({ transactionmode: event.target.value });\r\n\r\n        }\r\n\r\n        changeBookingDateHandler = (event) => { this.setState({ bookingdate: event.target.value }); }\r\n\r\n    }\r\n        render() {\r\n            return (\r\n                <section id=\"booking\">\r\n                    <div class=\"custom-container\">\r\n\r\n                        <form onSubmit={this.insertBooking} >\r\n                            <label for=\"\">Transaction Mode</label>\r\n                            <div class=\"radio\">\r\n\r\n                                <input\r\n                                    type=\"radio\"\r\n                                    id=\"online\"\r\n                                    name=\"mode\"\r\n                                    value=\"online\"\r\n                                    formControlName=\"mode\"\r\n                                    class=\"radio\"\r\n\r\n                                    checked={this.state.transactionmode === \"online\"}\r\n                                    onChange={this.onChangeValue}\r\n                                />\r\n                                <label class=\"radioName\" for=\"male\">Online</label><br />\r\n\r\n                                <input\r\n                                    type=\"radio\"\r\n                                    id=\"offline\"\r\n                                    name=\"mode\"\r\n                                    value=\"offline\"\r\n                                    formControlName=\"mode\"\r\n                                    class=\"radio\"\r\n\r\n                                    checked={this.state.transactionmode === \"offline\"}\r\n                                    onChange={this.onChangeValue}\r\n                                />\r\n                                <label class=\"radioName\" for=\"female\">Offline</label><br />\r\n                            </div>\r\n\r\n\r\n                            <br></br>\r\n\r\n\r\n                            <div class=\"form-group\">\r\n                                <div class=\"form-row\">\r\n                                    <div class=\"date\">\r\n                                        <input\r\n                                            type=\"date\"\r\n                                            class=\"form-control\"\r\n                                            formControlName=\"bookingDate\"\r\n                                            onChange={this.changeBookingDateHandler}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n\r\n                            <div>\r\n                                <button type=\"submit\" class=\"btn btn-danger\">\r\n                                    Cancel\r\n                                </button>\r\n                                <button type=\"submit\" class=\"btn btn-primary\">\r\n                                    Proceed <i class=\"icofont-long-arrow-right\"></i>\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div >\r\n                </section >\r\n\r\n\r\n\r\n\r\n            );\r\n        }\r\n\r\n    }\r\n\r\n\r\nexport default Booking;"]},"metadata":{},"sourceType":"module"}